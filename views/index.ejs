<!doctype html>
<html class="fixed">
	<head>
    <meta charset="utf-8">
		<title>Convertisseur Notation Arabe / Romain</title>

		<!--Import  BootStrap-->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
		
		<!--Import  JQuery-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

	</head>

	<body>
		<!-- NavBar -->
		<nav class="navbar bg-light">
			<div class="container-fluid">
				<span class="navbar-brand mb-0 h1"><%= title %></span>
			</div>
		</nav>
	</body>

	<div class="container" style="margin-top:15%;">

		<div class="mb-3 row">
			<label for="nbArabe" class="col-sm-2 col-form-label">Nombre en notation Arabe</label>
			<div class="col-sm-10">
				<input type="number" class="form-control" id="nbArabe" placeholder="Entrez un nombre">
			</div>
		</div>
		<div class="mb-3 row">
			<label for="nbRomain" class="col-sm-2 col-form-label">Nombre en notation Romaine</label>
			<div class="col-sm-10">
				<textarea class="form-control" id="nbRomain" placeholder="Résultat"></textarea>
			</div>
		</div>
	</div>

	
	<!-- Vendors -->
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

	<script type="text/javascript">
		
		function convert() {
			var nbArabe = $('#nbArabe').val();

			// si aucune valeur : vider le résultat
			if (nbArabe.length == 0) {
				console.log("test")
				var nbRomain = $('#nbRomain').val("");
			}

			// sinon : lancement la requete de traitement
			else {
				axios.get('<%= baseurl %>convert?nbArabe=' + nbArabe)	
				.then(function(response){
						if(response && response.data){

							// affichage du résultat
							$('#nbRomain').val(response.data.nbRomain);
						}
				}).catch(function(error){
						console.log(error);
				});
			}
		}

		$(function() {
			$('#nbArabe').on('input', convert)
		});  

	</script>
	
	

	
</html>